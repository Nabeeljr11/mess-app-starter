{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mohdn\\\\OneDrive\\\\Desktop\\\\mess-app-starter\\\\src\\\\StudentPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { db } from \"./firebase\";\nimport { doc, setDoc, getDoc } from \"firebase/firestore\";\nimport \"./StudentPage.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction StudentPage({\n  handleLogout\n}) {\n  _s();\n  const [mealData, setMealData] = useState({});\n  const today = new Date().toISOString().split(\"T\")[0];\n\n  // üîπ Generate next 7 days\n  const next7Days = Array.from({\n    length: 7\n  }, (_, i) => {\n    const date = new Date();\n    date.setDate(date.getDate() + i);\n    return date.toISOString().split(\"T\")[0];\n  });\n\n  // üîπ Load saved data\n  useEffect(() => {\n    async function fetchData() {\n      const docRef = doc(db, \"studentMeals\", \"dummyUser\"); // replace with user.uid\n      const docSnap = await getDoc(docRef);\n      if (docSnap.exists()) {\n        setMealData(docSnap.data());\n      } else {\n        // default: all meals marked ‚úÖ\n        const defaultData = {};\n        next7Days.forEach(d => {\n          defaultData[d] = {\n            breakfast: true,\n            lunch: true,\n            supper: true\n          };\n        });\n        setMealData(defaultData);\n      }\n    }\n    fetchData();\n  }, []);\n\n  // üîπ Toggle meal\n  const toggleMeal = async (day, meal) => {\n    // today is locked\n    if (day === today) return;\n    const updated = {\n      ...mealData,\n      [day]: {\n        ...mealData[day],\n        [meal]: !mealData[day][meal]\n      }\n    };\n    setMealData(updated);\n    await setDoc(doc(db, \"studentMeals\", \"dummyUser\"), updated); // replace with user.uid\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"student-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"title\",\n      children: \"\\uD83C\\uDF74 Mark Your Meals (Next 7 Days)\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), next7Days.map(day => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"day-row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"day-label\",\n        children: [day, \" \", day === today && \"(Locked)\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"meal-buttons\",\n        children: [\"breakfast\", \"lunch\", \"supper\"].map(meal => {\n          var _mealData$day, _mealData$day2;\n          return /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `meal-btn ${(_mealData$day = mealData[day]) !== null && _mealData$day !== void 0 && _mealData$day[meal] ? \"marked\" : \"unmarked\"}`,\n            disabled: day === today,\n            onClick: () => toggleMeal(day, meal),\n            children: [meal.toUpperCase(), \" \", (_mealData$day2 = mealData[day]) !== null && _mealData$day2 !== void 0 && _mealData$day2[meal] ? \"‚úì\" : \"‚úó\"]\n          }, meal, true, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this)]\n    }, day, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"logout-wrapper\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"logout-btn\",\n        onClick: handleLogout,\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n}\n_s(StudentPage, \"I9bh83gitFbr/XkhK2YINkrdsu8=\");\n_c = StudentPage;\nexport default StudentPage;\nvar _c;\n$RefreshReg$(_c, \"StudentPage\");","map":{"version":3,"names":["React","useState","useEffect","db","doc","setDoc","getDoc","jsxDEV","_jsxDEV","StudentPage","handleLogout","_s","mealData","setMealData","today","Date","toISOString","split","next7Days","Array","from","length","_","i","date","setDate","getDate","fetchData","docRef","docSnap","exists","data","defaultData","forEach","d","breakfast","lunch","supper","toggleMeal","day","meal","updated","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","_mealData$day","_mealData$day2","disabled","onClick","toUpperCase","_c","$RefreshReg$"],"sources":["C:/Users/mohdn/OneDrive/Desktop/mess-app-starter/src/StudentPage.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { db } from \"./firebase\";\r\nimport { doc, setDoc, getDoc } from \"firebase/firestore\";\r\nimport \"./StudentPage.css\";\r\n\r\nfunction StudentPage({ handleLogout }) {\r\n  const [mealData, setMealData] = useState({});\r\n  const today = new Date().toISOString().split(\"T\")[0];\r\n\r\n  // üîπ Generate next 7 days\r\n  const next7Days = Array.from({ length: 7 }, (_, i) => {\r\n    const date = new Date();\r\n    date.setDate(date.getDate() + i);\r\n    return date.toISOString().split(\"T\")[0];\r\n  });\r\n\r\n  // üîπ Load saved data\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      const docRef = doc(db, \"studentMeals\", \"dummyUser\"); // replace with user.uid\r\n      const docSnap = await getDoc(docRef);\r\n      if (docSnap.exists()) {\r\n        setMealData(docSnap.data());\r\n      } else {\r\n        // default: all meals marked ‚úÖ\r\n        const defaultData = {};\r\n        next7Days.forEach((d) => {\r\n          defaultData[d] = { breakfast: true, lunch: true, supper: true };\r\n        });\r\n        setMealData(defaultData);\r\n      }\r\n    }\r\n    fetchData();\r\n  }, []);\r\n\r\n  // üîπ Toggle meal\r\n  const toggleMeal = async (day, meal) => {\r\n    // today is locked\r\n    if (day === today) return;\r\n\r\n    const updated = {\r\n      ...mealData,\r\n      [day]: {\r\n        ...mealData[day],\r\n        [meal]: !mealData[day][meal],\r\n      },\r\n    };\r\n    setMealData(updated);\r\n\r\n    await setDoc(doc(db, \"studentMeals\", \"dummyUser\"), updated); // replace with user.uid\r\n  };\r\n\r\n  return (\r\n    <div className=\"student-container\">\r\n      <h2 className=\"title\">üç¥ Mark Your Meals (Next 7 Days)</h2>\r\n      {next7Days.map((day) => (\r\n        <div key={day} className=\"day-row\">\r\n          <div className=\"day-label\">\r\n            {day} {day === today && \"(Locked)\"}\r\n          </div>\r\n          <div className=\"meal-buttons\">\r\n            {[\"breakfast\", \"lunch\", \"supper\"].map((meal) => (\r\n              <button\r\n                key={meal}\r\n                className={`meal-btn ${\r\n                  mealData[day]?.[meal] ? \"marked\" : \"unmarked\"\r\n                }`}\r\n                disabled={day === today}\r\n                onClick={() => toggleMeal(day, meal)}\r\n              >\r\n                {meal.toUpperCase()}{\" \"}\r\n                {mealData[day]?.[meal] ? \"‚úì\" : \"‚úó\"}\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      ))}\r\n\r\n      {/* Logout button at bottom-right */}\r\n      <div className=\"logout-wrapper\">\r\n        <button className=\"logout-btn\" onClick={handleLogout}>\r\n          Logout\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default StudentPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}