{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mohdn\\\\OneDrive\\\\Desktop\\\\mess-app-starter\\\\src\\\\StudentPage.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { db } from \"./firebase\";\nimport { doc, getDoc, setDoc } from \"firebase/firestore\";\nimport \"./studentpage.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction StudentPage({\n  currentUser\n}) {\n  _s();\n  const [meals, setMeals] = useState({});\n  const [dates, setDates] = useState([]);\n\n  // generate next 7 days\n  useEffect(() => {\n    const today = new Date();\n    const nextDays = [];\n    for (let i = 0; i < 7; i++) {\n      const date = new Date(today);\n      date.setDate(today.getDate() + i);\n      nextDays.push(date.toISOString().split(\"T\")[0]);\n    }\n    setDates(nextDays);\n\n    // fetch saved meals\n    const fetchMeals = async () => {\n      const userRef = doc(db, \"users\", currentUser.uid);\n      const snap = await getDoc(userRef);\n      if (snap.exists()) {\n        setMeals(snap.data().meals || {});\n      }\n    };\n    fetchMeals();\n  }, [currentUser]);\n\n  // toggle meal\n  const toggleMeal = async (date, meal) => {\n    // lock today\n    const today = new Date().toISOString().split(\"T\")[0];\n    if (date === today) {\n      alert(\"Marking for today is locked! Only future days can be changed.\");\n      return;\n    }\n    const updated = {\n      ...meals\n    };\n    if (!updated[date]) updated[date] = {};\n    updated[date][meal] = !updated[date][meal];\n    setMeals(updated);\n    const userRef = doc(db, \"users\", currentUser.uid);\n    await setDoc(userRef, {\n      meals: updated\n    }, {\n      merge: true\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"student-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\uD83C\\uDF7D\\uFE0F Mark Your Meals (Next 7 Days)\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"days-container\",\n      children: dates.map(date => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"day-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"date-heading\",\n          children: [date, \" \", date === new Date().toISOString().split(\"T\")[0] ? \"(Locked)\" : \"\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"meals\",\n          children: [\"breakfast\", \"lunch\", \"supper\"].map(meal => {\n            var _meals$date, _meals$date2;\n            return /*#__PURE__*/_jsxDEV(\"button\", {\n              className: `meal-btn ${(_meals$date = meals[date]) !== null && _meals$date !== void 0 && _meals$date[meal] ? \"marked\" : \"unmarked\"}`,\n              onClick: () => toggleMeal(date, meal),\n              children: [meal.toUpperCase(), \" \", (_meals$date2 = meals[date]) !== null && _meals$date2 !== void 0 && _meals$date2[meal] ? \"‚úì\" : \"\"]\n            }, meal, true, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this)]\n      }, date, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n}\n_s(StudentPage, \"/5Q+OBCK4H1nvKkEGHqCvQ0868w=\");\n_c = StudentPage;\nexport default StudentPage;\nvar _c;\n$RefreshReg$(_c, \"StudentPage\");","map":{"version":3,"names":["React","useEffect","useState","db","doc","getDoc","setDoc","jsxDEV","_jsxDEV","StudentPage","currentUser","_s","meals","setMeals","dates","setDates","today","Date","nextDays","i","date","setDate","getDate","push","toISOString","split","fetchMeals","userRef","uid","snap","exists","data","toggleMeal","meal","alert","updated","merge","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","_meals$date","_meals$date2","onClick","toUpperCase","_c","$RefreshReg$"],"sources":["C:/Users/mohdn/OneDrive/Desktop/mess-app-starter/src/StudentPage.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { db } from \"./firebase\";\r\nimport { doc, getDoc, setDoc } from \"firebase/firestore\";\r\nimport \"./studentpage.css\";\r\n\r\nfunction StudentPage({ currentUser }) {\r\n  const [meals, setMeals] = useState({});\r\n  const [dates, setDates] = useState([]);\r\n\r\n  // generate next 7 days\r\n  useEffect(() => {\r\n    const today = new Date();\r\n    const nextDays = [];\r\n    for (let i = 0; i < 7; i++) {\r\n      const date = new Date(today);\r\n      date.setDate(today.getDate() + i);\r\n      nextDays.push(date.toISOString().split(\"T\")[0]);\r\n    }\r\n    setDates(nextDays);\r\n\r\n    // fetch saved meals\r\n    const fetchMeals = async () => {\r\n      const userRef = doc(db, \"users\", currentUser.uid);\r\n      const snap = await getDoc(userRef);\r\n      if (snap.exists()) {\r\n        setMeals(snap.data().meals || {});\r\n      }\r\n    };\r\n    fetchMeals();\r\n  }, [currentUser]);\r\n\r\n  // toggle meal\r\n  const toggleMeal = async (date, meal) => {\r\n    // lock today\r\n    const today = new Date().toISOString().split(\"T\")[0];\r\n    if (date === today) {\r\n      alert(\"Marking for today is locked! Only future days can be changed.\");\r\n      return;\r\n    }\r\n\r\n    const updated = { ...meals };\r\n    if (!updated[date]) updated[date] = {};\r\n    updated[date][meal] = !updated[date][meal];\r\n\r\n    setMeals(updated);\r\n\r\n    const userRef = doc(db, \"users\", currentUser.uid);\r\n    await setDoc(userRef, { meals: updated }, { merge: true });\r\n  };\r\n\r\n  return (\r\n    <div className=\"student-container\">\r\n      <h2>üçΩÔ∏è Mark Your Meals (Next 7 Days)</h2>\r\n      <div className=\"days-container\">\r\n        {dates.map((date) => (\r\n          <div key={date} className=\"day-card\">\r\n            <h3 className=\"date-heading\">\r\n              {date} {date === new Date().toISOString().split(\"T\")[0] ? \"(Locked)\" : \"\"}\r\n            </h3>\r\n            <div className=\"meals\">\r\n              {[\"breakfast\", \"lunch\", \"supper\"].map((meal) => (\r\n                <button\r\n                  key={meal}\r\n                  className={`meal-btn ${meals[date]?.[meal] ? \"marked\" : \"unmarked\"}`}\r\n                  onClick={() => toggleMeal(date, meal)}\r\n                >\r\n                  {meal.toUpperCase()} {meals[date]?.[meal] ? \"‚úì\" : \"\"}\r\n                </button>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default StudentPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}