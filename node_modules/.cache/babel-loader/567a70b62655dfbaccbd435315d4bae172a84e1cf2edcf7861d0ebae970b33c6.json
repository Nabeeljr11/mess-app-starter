{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mohdn\\\\OneDrive\\\\Desktop\\\\mess-app-starter\\\\src\\\\UserProfilePage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { auth, db } from \"./firebase\";\nimport { doc, getDoc, updateDoc } from \"firebase/firestore\";\nimport { getStorage, ref as storageRef, uploadBytes, getDownloadURL } from \"firebase/storage\";\nimport { updateProfile } from \"firebase/auth\";\nimport \"./UserProfilePage.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction UserProfilePage({\n  currentUser,\n  onLogout,\n  onBack\n}) {\n  _s();\n  const [userData, setUserData] = useState({\n    name: '',\n    department: '',\n    phone: '',\n    email: ''\n  });\n  const [loading, setLoading] = useState(true);\n  const [isEditing, setIsEditing] = useState(false);\n  const [avatarUrl, setAvatarUrl] = useState(\"\");\n  // Cropper state\n  const [showCropper, setShowCropper] = useState(false);\n  const [cropSrc, setCropSrc] = useState(\"\");\n  const [imgMeta, setImgMeta] = useState({\n    w: 0,\n    h: 0\n  });\n  const [zoom, setZoom] = useState(1);\n  const [offsetX, setOffsetX] = useState(0);\n  const [offsetY, setOffsetY] = useState(0);\n  const cropSize = 280; // square preview in px\n\n  // Load user data\n  useEffect(() => {\n    const loadUserData = async () => {\n      if (!currentUser) return;\n      try {\n        const userRef = doc(db, \"users\", currentUser.uid);\n        const userSnap = await getDoc(userRef);\n        if (userSnap.exists()) {\n          const data = userSnap.data();\n          setUserData({\n            name: data.name || '',\n            department: data.department || data.branch || '',\n            phone: data.phone || '',\n            email: data.email || currentUser.email || ''\n          });\n          setAvatarUrl(data.photoURL || (currentUser === null || currentUser === void 0 ? void 0 : currentUser.photoURL) || \"\");\n        }\n      } catch (error) {\n        console.error(\"Error loading user data:\", error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    loadUserData();\n  }, [currentUser]);\n\n  // Handle form submission\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!currentUser) return;\n    try {\n      const userRef = doc(db, \"users\", currentUser.uid);\n      await updateDoc(userRef, {\n        name: userData.name,\n        department: userData.department,\n        phone: userData.phone\n      });\n      setIsEditing(false);\n      alert('Profile updated successfully!');\n    } catch (error) {\n      console.error(\"Error updating profile:\", error);\n      alert('Error updating profile. Please try again.');\n    }\n  };\n\n  // Handle logout\n  const handleLogout = async () => {\n    try {\n      await onLogout();\n    } catch (error) {\n      console.error(\"Error logging out:\", error);\n      alert('Error logging out. Please try again.');\n    }\n  };\n\n  // Handle input changes\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setUserData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  // File pick -> open cropper\n  const onPickAvatar = e => {\n    var _e$target$files;\n    const file = (_e$target$files = e.target.files) === null || _e$target$files === void 0 ? void 0 : _e$target$files[0];\n    if (!file) return;\n    const reader = new FileReader();\n    reader.onload = () => {\n      const src = reader.result;\n      const img = new Image();\n      img.onload = () => {\n        setImgMeta({\n          w: img.naturalWidth || img.width,\n          h: img.naturalHeight || img.height\n        });\n        setCropSrc(src);\n        setZoom(1);\n        setOffsetX(0);\n        setOffsetY(0);\n        setShowCropper(true);\n      };\n      img.src = src;\n    };\n    reader.readAsDataURL(file);\n    // allow selecting same file again\n    e.target.value = \"\";\n  };\n\n  // Compute and upload cropped blob\n  const confirmCropAndUpload = async () => {\n    if (!auth.currentUser || !cropSrc) return;\n    try {\n      // draw to canvas\n      const canvas = document.createElement(\"canvas\");\n      canvas.width = cropSize;\n      canvas.height = cropSize;\n      const ctx = canvas.getContext(\"2d\");\n\n      // Based on preview math\n      const imgW = imgMeta.w;\n      const imgH = imgMeta.h;\n      const dispW = imgW * zoom;\n      const dispH = imgH * zoom;\n      const left = (cropSize - dispW) / 2 + offsetX;\n      const top = (cropSize - dispH) / 2 + offsetY;\n      // Portion of original image that maps to the square [0, cropSize]\n      const srcX = Math.max(0, -left / zoom);\n      const srcY = Math.max(0, -top / zoom);\n      const srcW = Math.min(imgW - srcX, cropSize / zoom);\n      const srcH = Math.min(imgH - srcY, cropSize / zoom);\n\n      // Clear and draw\n      ctx.fillStyle = \"#000\";\n      ctx.fillRect(0, 0, cropSize, cropSize);\n      ctx.drawImage(await loadImage(cropSrc), srcX, srcY, srcW, srcH,\n      // destination: center-fit if edges go out of bounds\n      Math.max(0, (cropSize - srcW * zoom) / 2), Math.max(0, (cropSize - srcH * zoom) / 2), srcW * zoom, srcH * zoom);\n      const blob = await new Promise(resolve => canvas.toBlob(resolve, \"image/jpeg\", 0.9));\n\n      // Upload\n      const storage = getStorage();\n      const path = `userAvatars/${auth.currentUser.uid}`;\n      const ref = storageRef(storage, path);\n      await uploadBytes(ref, blob);\n      const url = await getDownloadURL(ref);\n      await updateDoc(doc(db, \"users\", auth.currentUser.uid), {\n        photoURL: url\n      });\n      try {\n        await updateProfile(auth.currentUser, {\n          photoURL: url\n        });\n      } catch (_) {}\n      setAvatarUrl(url);\n      setShowCropper(false);\n      alert(\"✅ Profile picture updated\");\n    } catch (err) {\n      console.error(\"Crop/upload failed\", err);\n      alert(\"❌ Failed to update profile picture\");\n    }\n  };\n  function loadImage(src) {\n    return new Promise((resolve, reject) => {\n      const img = new Image();\n      img.onload = () => resolve(img);\n      img.onerror = reject;\n      img.src = src;\n    });\n  }\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-spinner\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"spinner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Loading profile...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"profile-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-content\",\n      children: [onBack && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"back-bar\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"back-to-home-btn\",\n          onClick: onBack,\n          children: \"\\u2190 Back to Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile-header\",\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          gap: 12\n        },\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"profile-title\",\n          children: \"User Profile\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"avatar-section\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"avatar-circle\",\n          children: [avatarUrl ? /*#__PURE__*/_jsxDEV(\"img\", {\n            src: avatarUrl,\n            alt: \"Profile\",\n            className: \"avatar-img\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 15\n          }, this) : userData.name ? userData.name.charAt(0).toUpperCase() : 'U', /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"avatar-upload\",\n            title: \"Update profile picture\",\n            children: [\"\\uD83D\\uDCF7\", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              accept: \"image/*\",\n              onChange: onPickAvatar,\n              hidden: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 9\n      }, this), showCropper && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-overlay\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Crop Profile Picture\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"close-btn\",\n              onClick: () => setShowCropper(false),\n              children: \"\\xD7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-body\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cropper-wrapper\",\n              style: {\n                width: cropSize,\n                height: cropSize\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"crop-viewport\",\n                style: {\n                  width: cropSize,\n                  height: cropSize\n                },\n                children: cropSrc && /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: cropSrc,\n                  alt: \"to-crop\",\n                  className: \"crop-image\",\n                  style: {\n                    width: imgMeta.w * zoom,\n                    height: imgMeta.h * zoom,\n                    transform: `translate(${(cropSize - imgMeta.w * zoom) / 2 + offsetX}px, ${(cropSize - imgMeta.h * zoom) / 2 + offsetY}px)`\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 239,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"crop-controls\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"control\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Zoom\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 254,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"range\",\n                  min: \"0.5\",\n                  max: \"3\",\n                  step: \"0.01\",\n                  value: zoom,\n                  onChange: e => setZoom(parseFloat(e.target.value))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 255,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"control\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Move X\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 258,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"range\",\n                  min: -cropSize,\n                  max: cropSize,\n                  step: \"1\",\n                  value: offsetX,\n                  onChange: e => setOffsetX(parseInt(e.target.value))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 259,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"control\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Move Y\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 262,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"range\",\n                  min: -cropSize,\n                  max: cropSize,\n                  step: \"1\",\n                  value: offsetY,\n                  onChange: e => setOffsetY(parseInt(e.target.value))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 263,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"edit-actions\",\n              style: {\n                marginTop: 12\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"cancel-btn\",\n                onClick: () => setShowCropper(false),\n                children: \"Cancel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"save-btn\",\n                onClick: confirmCropAndUpload,\n                children: \"Save\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"profile-form\",\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"name\",\n            className: \"form-label\",\n            children: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"name\",\n            name: \"name\",\n            value: userData.name,\n            onChange: handleInputChange,\n            className: \"form-input\",\n            placeholder: \"Enter your full name\",\n            disabled: !isEditing,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"department\",\n            className: \"form-label\",\n            children: \"Department\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"department\",\n            name: \"department\",\n            value: userData.department,\n            onChange: handleInputChange,\n            className: \"form-input\",\n            placeholder: \"Enter your department\",\n            disabled: !isEditing,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"phone\",\n            className: \"form-label\",\n            children: \"Phone\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"tel\",\n            id: \"phone\",\n            name: \"phone\",\n            value: userData.phone,\n            onChange: handleInputChange,\n            className: \"form-input\",\n            placeholder: \"Enter your phone number\",\n            disabled: !isEditing,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"email\",\n            className: \"form-label\",\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            id: \"email\",\n            name: \"email\",\n            value: userData.email,\n            className: \"form-input\",\n            placeholder: \"Enter your email\",\n            disabled: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-actions\",\n          children: !isEditing ? /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"edit-btn\",\n            onClick: () => setIsEditing(true),\n            children: \"Edit Profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"edit-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"cancel-btn\",\n              onClick: () => setIsEditing(false),\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"save-btn\",\n              children: \"Save Changes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 354,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"logout-section\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"logout-btn\",\n          onClick: handleLogout,\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 198,\n    columnNumber: 5\n  }, this);\n}\n_s(UserProfilePage, \"gIzRpRMez8jz0rksy5aU4+pWvVk=\");\n_c = UserProfilePage;\nexport default UserProfilePage;\nvar _c;\n$RefreshReg$(_c, \"UserProfilePage\");","map":{"version":3,"names":["React","useState","useEffect","auth","db","doc","getDoc","updateDoc","getStorage","ref","storageRef","uploadBytes","getDownloadURL","updateProfile","jsxDEV","_jsxDEV","UserProfilePage","currentUser","onLogout","onBack","_s","userData","setUserData","name","department","phone","email","loading","setLoading","isEditing","setIsEditing","avatarUrl","setAvatarUrl","showCropper","setShowCropper","cropSrc","setCropSrc","imgMeta","setImgMeta","w","h","zoom","setZoom","offsetX","setOffsetX","offsetY","setOffsetY","cropSize","loadUserData","userRef","uid","userSnap","exists","data","branch","photoURL","error","console","handleSubmit","e","preventDefault","alert","handleLogout","handleInputChange","value","target","prev","onPickAvatar","_e$target$files","file","files","reader","FileReader","onload","src","result","img","Image","naturalWidth","width","naturalHeight","height","readAsDataURL","confirmCropAndUpload","canvas","document","createElement","ctx","getContext","imgW","imgH","dispW","dispH","left","top","srcX","Math","max","srcY","srcW","min","srcH","fillStyle","fillRect","drawImage","loadImage","blob","Promise","resolve","toBlob","storage","path","url","_","err","reject","onerror","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","style","display","alignItems","justifyContent","gap","alt","charAt","toUpperCase","title","type","accept","onChange","hidden","transform","step","parseFloat","parseInt","marginTop","onSubmit","htmlFor","id","placeholder","disabled","required","_c","$RefreshReg$"],"sources":["C:/Users/mohdn/OneDrive/Desktop/mess-app-starter/src/UserProfilePage.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { auth, db } from \"./firebase\";\r\nimport { doc, getDoc, updateDoc } from \"firebase/firestore\";\r\nimport { getStorage, ref as storageRef, uploadBytes, getDownloadURL } from \"firebase/storage\";\r\nimport { updateProfile } from \"firebase/auth\";\r\nimport \"./UserProfilePage.css\";\r\n\r\nfunction UserProfilePage({ currentUser, onLogout, onBack }) {\r\n  const [userData, setUserData] = useState({\r\n    name: '',\r\n    department: '',\r\n    phone: '',\r\n    email: ''\r\n  });\r\n  const [loading, setLoading] = useState(true);\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [avatarUrl, setAvatarUrl] = useState(\"\");\r\n  // Cropper state\r\n  const [showCropper, setShowCropper] = useState(false);\r\n  const [cropSrc, setCropSrc] = useState(\"\");\r\n  const [imgMeta, setImgMeta] = useState({ w: 0, h: 0 });\r\n  const [zoom, setZoom] = useState(1);\r\n  const [offsetX, setOffsetX] = useState(0);\r\n  const [offsetY, setOffsetY] = useState(0);\r\n  const cropSize = 280; // square preview in px\r\n\r\n  // Load user data\r\n  useEffect(() => {\r\n    const loadUserData = async () => {\r\n      if (!currentUser) return;\r\n      \r\n      try {\r\n        const userRef = doc(db, \"users\", currentUser.uid);\r\n        const userSnap = await getDoc(userRef);\r\n        \r\n        if (userSnap.exists()) {\r\n          const data = userSnap.data();\r\n          setUserData({\r\n            name: data.name || '',\r\n            department: data.department || data.branch || '',\r\n            phone: data.phone || '',\r\n            email: data.email || currentUser.email || ''\r\n          });\r\n          setAvatarUrl(data.photoURL || currentUser?.photoURL || \"\");\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error loading user data:\", error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    loadUserData();\r\n  }, [currentUser]);\r\n\r\n  // Handle form submission\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!currentUser) return;\r\n\r\n    try {\r\n      const userRef = doc(db, \"users\", currentUser.uid);\r\n      await updateDoc(userRef, {\r\n        name: userData.name,\r\n        department: userData.department,\r\n        phone: userData.phone\r\n      });\r\n      \r\n      setIsEditing(false);\r\n      alert('Profile updated successfully!');\r\n    } catch (error) {\r\n      console.error(\"Error updating profile:\", error);\r\n      alert('Error updating profile. Please try again.');\r\n    }\r\n  };\r\n\r\n  // Handle logout\r\n  const handleLogout = async () => {\r\n    try {\r\n      await onLogout();\r\n    } catch (error) {\r\n      console.error(\"Error logging out:\", error);\r\n      alert('Error logging out. Please try again.');\r\n    }\r\n  };\r\n\r\n  // Handle input changes\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setUserData(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n  };\r\n\r\n  // File pick -> open cropper\r\n  const onPickAvatar = (e) => {\r\n    const file = e.target.files?.[0];\r\n    if (!file) return;\r\n    const reader = new FileReader();\r\n    reader.onload = () => {\r\n      const src = reader.result;\r\n      const img = new Image();\r\n      img.onload = () => {\r\n        setImgMeta({ w: img.naturalWidth || img.width, h: img.naturalHeight || img.height });\r\n        setCropSrc(src);\r\n        setZoom(1);\r\n        setOffsetX(0);\r\n        setOffsetY(0);\r\n        setShowCropper(true);\r\n      };\r\n      img.src = src;\r\n    };\r\n    reader.readAsDataURL(file);\r\n    // allow selecting same file again\r\n    e.target.value = \"\";\r\n  };\r\n\r\n  // Compute and upload cropped blob\r\n  const confirmCropAndUpload = async () => {\r\n    if (!auth.currentUser || !cropSrc) return;\r\n    try {\r\n      // draw to canvas\r\n      const canvas = document.createElement(\"canvas\");\r\n      canvas.width = cropSize;\r\n      canvas.height = cropSize;\r\n      const ctx = canvas.getContext(\"2d\");\r\n\r\n      // Based on preview math\r\n      const imgW = imgMeta.w;\r\n      const imgH = imgMeta.h;\r\n      const dispW = imgW * zoom;\r\n      const dispH = imgH * zoom;\r\n      const left = (cropSize - dispW) / 2 + offsetX;\r\n      const top = (cropSize - dispH) / 2 + offsetY;\r\n      // Portion of original image that maps to the square [0, cropSize]\r\n      const srcX = Math.max(0, -left / zoom);\r\n      const srcY = Math.max(0, -top / zoom);\r\n      const srcW = Math.min(imgW - srcX, cropSize / zoom);\r\n      const srcH = Math.min(imgH - srcY, cropSize / zoom);\r\n\r\n      // Clear and draw\r\n      ctx.fillStyle = \"#000\";\r\n      ctx.fillRect(0, 0, cropSize, cropSize);\r\n      ctx.drawImage(\r\n        await loadImage(cropSrc),\r\n        srcX,\r\n        srcY,\r\n        srcW,\r\n        srcH,\r\n        // destination: center-fit if edges go out of bounds\r\n        Math.max(0, (cropSize - srcW * zoom) / 2),\r\n        Math.max(0, (cropSize - srcH * zoom) / 2),\r\n        srcW * zoom,\r\n        srcH * zoom\r\n      );\r\n\r\n      const blob = await new Promise((resolve) => canvas.toBlob(resolve, \"image/jpeg\", 0.9));\r\n\r\n      // Upload\r\n      const storage = getStorage();\r\n      const path = `userAvatars/${auth.currentUser.uid}`;\r\n      const ref = storageRef(storage, path);\r\n      await uploadBytes(ref, blob);\r\n      const url = await getDownloadURL(ref);\r\n      await updateDoc(doc(db, \"users\", auth.currentUser.uid), { photoURL: url });\r\n      try { await updateProfile(auth.currentUser, { photoURL: url }); } catch (_) {}\r\n      setAvatarUrl(url);\r\n      setShowCropper(false);\r\n      alert(\"✅ Profile picture updated\");\r\n    } catch (err) {\r\n      console.error(\"Crop/upload failed\", err);\r\n      alert(\"❌ Failed to update profile picture\");\r\n    }\r\n  };\r\n\r\n  function loadImage(src) {\r\n    return new Promise((resolve, reject) => {\r\n      const img = new Image();\r\n      img.onload = () => resolve(img);\r\n      img.onerror = reject;\r\n      img.src = src;\r\n    });\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"profile-container\">\r\n        <div className=\"loading-spinner\">\r\n          <div className=\"spinner\"></div>\r\n          <p>Loading profile...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"profile-container\">\r\n      <div className=\"profile-content\">\r\n        {/* Back to Dashboard (prominent) */}\r\n        {onBack && (\r\n          <div className=\"back-bar\">\r\n            <button className=\"back-to-home-btn\" onClick={onBack}>\r\n              ← Back to Dashboard\r\n            </button>\r\n          </div>\r\n        )}\r\n        {/* Header */}\r\n        <div className=\"profile-header\" style={{display:'flex', alignItems:'center', justifyContent:'center', gap:12}}>\r\n          <h1 className=\"profile-title\">User Profile</h1>\r\n        </div>\r\n\r\n        {/* Avatar Section */}\r\n        <div className=\"avatar-section\">\r\n          <div className=\"avatar-circle\">\r\n            {avatarUrl ? (\r\n              <img src={avatarUrl} alt=\"Profile\" className=\"avatar-img\" />\r\n            ) : (\r\n              (userData.name ? userData.name.charAt(0).toUpperCase() : 'U')\r\n            )}\r\n            <label className=\"avatar-upload\" title=\"Update profile picture\">\r\n              📷\r\n              <input type=\"file\" accept=\"image/*\" onChange={onPickAvatar} hidden />\r\n            </label>\r\n          </div>\r\n        </div>\r\n\r\n        {showCropper && (\r\n          <div className=\"modal-overlay\">\r\n            <div className=\"modal-content\">\r\n              <div className=\"modal-header\">\r\n                <h2>Crop Profile Picture</h2>\r\n                <button className=\"close-btn\" onClick={() => setShowCropper(false)}>×</button>\r\n              </div>\r\n              <div className=\"modal-body\">\r\n                <div className=\"cropper-wrapper\" style={{ width: cropSize, height: cropSize }}>\r\n                  <div className=\"crop-viewport\" style={{ width: cropSize, height: cropSize }}>\r\n                    {cropSrc && (\r\n                      <img\r\n                        src={cropSrc}\r\n                        alt=\"to-crop\"\r\n                        className=\"crop-image\"\r\n                        style={{\r\n                          width: imgMeta.w * zoom,\r\n                          height: imgMeta.h * zoom,\r\n                          transform: `translate(${(cropSize - imgMeta.w * zoom) / 2 + offsetX}px, ${(cropSize - imgMeta.h * zoom) / 2 + offsetY}px)`\r\n                        }}\r\n                      />\r\n                    )}\r\n                  </div>\r\n                </div>\r\n                <div className=\"crop-controls\">\r\n                  <div className=\"control\">\r\n                    <label>Zoom</label>\r\n                    <input type=\"range\" min=\"0.5\" max=\"3\" step=\"0.01\" value={zoom} onChange={(e)=>setZoom(parseFloat(e.target.value))} />\r\n                  </div>\r\n                  <div className=\"control\">\r\n                    <label>Move X</label>\r\n                    <input type=\"range\" min={-cropSize} max={cropSize} step=\"1\" value={offsetX} onChange={(e)=>setOffsetX(parseInt(e.target.value))} />\r\n                  </div>\r\n                  <div className=\"control\">\r\n                    <label>Move Y</label>\r\n                    <input type=\"range\" min={-cropSize} max={cropSize} step=\"1\" value={offsetY} onChange={(e)=>setOffsetY(parseInt(e.target.value))} />\r\n                  </div>\r\n                </div>\r\n                <div className=\"edit-actions\" style={{marginTop: 12}}>\r\n                  <button type=\"button\" className=\"cancel-btn\" onClick={()=>setShowCropper(false)}>Cancel</button>\r\n                  <button type=\"button\" className=\"save-btn\" onClick={confirmCropAndUpload}>Save</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Profile Form */}\r\n        <form className=\"profile-form\" onSubmit={handleSubmit}>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"name\" className=\"form-label\">Name</label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"name\"\r\n              name=\"name\"\r\n              value={userData.name}\r\n              onChange={handleInputChange}\r\n              className=\"form-input\"\r\n              placeholder=\"Enter your full name\"\r\n              disabled={!isEditing}\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"department\" className=\"form-label\">Department</label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"department\"\r\n              name=\"department\"\r\n              value={userData.department}\r\n              onChange={handleInputChange}\r\n              className=\"form-input\"\r\n              placeholder=\"Enter your department\"\r\n              disabled={!isEditing}\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"phone\" className=\"form-label\">Phone</label>\r\n            <input\r\n              type=\"tel\"\r\n              id=\"phone\"\r\n              name=\"phone\"\r\n              value={userData.phone}\r\n              onChange={handleInputChange}\r\n              className=\"form-input\"\r\n              placeholder=\"Enter your phone number\"\r\n              disabled={!isEditing}\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"email\" className=\"form-label\">Email</label>\r\n            <input\r\n              type=\"email\"\r\n              id=\"email\"\r\n              name=\"email\"\r\n              value={userData.email}\r\n              className=\"form-input\"\r\n              placeholder=\"Enter your email\"\r\n              disabled\r\n            />\r\n          </div>\r\n\r\n          {/* Action Buttons */}\r\n          <div className=\"form-actions\">\r\n            {!isEditing ? (\r\n              <button\r\n                type=\"button\"\r\n                className=\"edit-btn\"\r\n                onClick={() => setIsEditing(true)}\r\n              >\r\n                Edit Profile\r\n              </button>\r\n            ) : (\r\n              <div className=\"edit-actions\">\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"cancel-btn\"\r\n                  onClick={() => setIsEditing(false)}\r\n                >\r\n                  Cancel\r\n                </button>\r\n                <button\r\n                  type=\"submit\"\r\n                  className=\"save-btn\"\r\n                >\r\n                  Save Changes\r\n                </button>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </form>\r\n\r\n        {/* Logout Button */}\r\n        <div className=\"logout-section\">\r\n          <button\r\n            className=\"logout-btn\"\r\n            onClick={handleLogout}\r\n          >\r\n            Logout\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UserProfilePage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}